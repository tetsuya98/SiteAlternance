{% extends 'layout.html.twig' %}
{% block body %}
<div class="col-12 side-container">
    {{ form_start(form) }}
    <div class="head">
        <h2>Cr√©ation du compte entreprise</h2>
    </div>
    <div class="body">
        <div class="col-12 row">
            <div class="col-6 upload">
                <div class="col-12 px-0 title">
                    <h2>Informations</h2>
                </div>
                <div class="col-12 px-0 row">
                    <div class="col-5 pr-0 upload-image">
                        {% if form.vars.value.imageName is null %}
                            <img src="{{ asset('assets/img/folder.jpg') }}" alt="Generic placeholder image">
                        {% else %}
                            <img src="{{ asset('offres/avatar/' ~ form.vars.value.imageName)}}" alt="Generic placeholder image">
                        {% endif %}

                    </div>
                    <div class="col-7 upload-info">
                        <h3>Image</h3>
                        <p id="file-name">Aucune fichier</p>
                        <div class="upload-drop">
                            <i class="fas fa-cloud-download-alt"></i>
                        </div>
                        <small class="help-block">
                            {{ form_errors(form.imageFile) }}
                        </small>
                        <div class="d-none">
                            {{ form_widget(form.imageFile) }}
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-6 px-0">
                <div class="form-group">
                    {{ form_label(form.email) }}
                    {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.email) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.username) }}
                    {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.username) }}
                </div>
                <div class="form-group">
                    {{ form_label(form.plainPassword.first) }}
                    {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.plainPassword.first) }}
                </div>
                <div class="form-group">
                    {{ form_label(form.plainPassword.second) }}
                    {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.plainPassword.second) }}
                </div>
            </div>
        </div>
        <div class="form-group col-12">
            {{ form_label(form.description) }}
            {{ form_widget(form.description, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.description, {'attr': {'class': 'error'}}) }}
        </div>
    </div>
    <div class="foot">
        {{ form_row(form.submit, {attr : {class : 'btn btn-primary btn-lg square'}}) }}
    </div>
    {{ form_end(form) }}
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $('#appbundle_user_imageFile_file').change(function (e){
            $('#file-name').text(e.target.value.substring(e.target.value.lastIndexOf('\\') + 1));
        });

        $('.upload-drop').click(function (){
            $('#appbundle_user_imageFile_file').trigger('click');
        })

    });
</script>

{% endblock%}